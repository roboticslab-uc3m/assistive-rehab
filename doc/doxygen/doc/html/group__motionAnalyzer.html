<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>assistive-rehab: motionAnalyzer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">assistive-rehab
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">motionAnalyzer</div>  </div>
</div><!--header-->
<div class="contents">

<p>This module is responsible for analyzing the performed movement in real-time.  
<a href="#details">More...</a></p>
<p>This module is responsible for analyzing the performed movement in real-time. </p>
<p>Version:0.2.0 </p><dl class="section author"><dt>Author</dt><dd>Valentina Vasco <a href="#" onclick="location.href='mai'+'lto:'+'val'+'en'+'tin'+'a.'+'vas'+'co'+'@ii'+'t.'+'it'; return false;">valen<span style="display: none;">.nosp@m.</span>tina<span style="display: none;">.nosp@m.</span>.vasc<span style="display: none;">.nosp@m.</span>o@ii<span style="display: none;">.nosp@m.</span>t.it</a> <br />
 </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Released under the terms of the BSD 3-Clause License. </dd></dl>
<h1><a class="anchor" id="intro_sec"></a>
Description</h1>
<p>This module is responsible for analyzing the performed movement in real-time. It computes the range of motion (ROM) for range of motion movements and the speed of the end-point for reaching movements, which can be visualized on a yarpscope. Each movement is identified by a group (ROM for range of motion and EP for end-point) and a tag, and described through a reference joint, a reference direction and a plane. The ROM is computed as angle between the vector formed by the reference joint and its child (projected onto the projection plane) and the reference direction. These information are avaliable in the config file motion-repertoire.ini, which contains relevant information for <a class="el" href="group__skeletonScaler.html">skeletonScaler</a>, <a class="el" href="group__actionRecognizer.html">actionRecognizer</a> and \feedbackProducer. The tag of the movment has to match the name of the file loaded by <a class="el" href="group__skeletonPlayer.html">skeletonPlayer</a> and the label of the classed predicted by <a class="el" href="group__actionRecognizer.html">actionRecognizer</a>. The module is also responsible for generating matio files in order to produce an offline report. It makes use of matio and hdf5 libraries.</p>
<h1><a class="anchor" id="parameters_sec"></a>
Parameters</h1>
<ul>
<li>&ndash;name: The module's name; all the open ports will be tagged with the prefix /name</li>
<li>&ndash;from: Configuration file name with the list of movements that can be analyzed.</li>
<li>&ndash;GENERAL::metric_tag: List of the groups specifying the movements (range of motion and end-point).</li>
<li>&ndash;GENERAL::number_metrics: List containing how many movements are available for the corresponding group (corresponding to metric_tag).</li>
<li>&ndash;GENERAL::cameraposinit: Position of the camera in world coordinates sent to <a class="el" href="group__skeletonViewer.html">skeletonViewer</a>.</li>
<li>&ndash;GENERAL::focalpointinit: Focal point of the camera in world coordinates sent to <a class="el" href="group__skeletonViewer.html">skeletonViewer</a>.</li>
<li>&ndash;ROM_0::motion_type: Tag of the movement.</li>
<li>&ndash;ROM_0::tag_joint: Tag of the reference joint.</li>
<li>&ndash;ROM_0::ref_dir: Reference direction for computing the ROM in skeleton coordinates.</li>
<li>&ndash;ROM_0::tag_plane: Tag of the plane for projecting the vector for computing the ROM.</li>
<li>&ndash;ROM_0::min: Minimum value acceptable for the movement (degrees).</li>
<li>&ndash;ROM_0::max: Maximum value acceptable for the movement (degrees).</li>
<li>&ndash;ROM_0::duration: Number of frames used in the action recognition for this movement. Sent to <a class="el" href="group__actionRecognizer.html">actionRecognizer</a>.</li>
<li>&ndash;ROM_0::twarp: Warping factor for squeezing (dilating) in time the template skeleton if less than 1 (greater than 1). Sent to <a class="el" href="group__skeletonScaler.html">skeletonScaler</a>.</li>
<li>&ndash;ROM_0::joint_list: List of joints under analysis for producing final feedback, provided to \feedbackProducer.</li>
<li>&ndash;ROM_0::sx_thresh: List of thresholds (corresponding to joint_list) on the standard deviation of the error in position along x direction. Sent to \feedbackProducer.</li>
<li>&ndash;ROM_0::sy_thresh: List of thresholds (corresponding to joint_list) on the standard deviation of the error in position along y direction. Sent to \feedbackProducer.</li>
<li>&ndash;ROM_0::sz_thresh: List of thresholds (corresponding to joint_list) on the standard deviation of the error in position along z direction. Sent to to \feedbackProducer.</li>
<li>&ndash;ROM_0::range_freq: List of thresholds (corresponding to joint_list) on the difference in frequency between template and observed joints. Sent to to \feedbackProducer.</li>
<li>&ndash;ROM_0::psd_thresh: List of thresholds (corresponding to joint_list) on the power spectrum density of the observed joints. Sent to to \feedbackProducer.</li>
<li>&ndash;EP_0::target: Target to reach in skeleton coordinates.</li>
<li>&ndash;EP_0::radius: Radius of the sphere defined around the template target.</li>
<li>&ndash;EP_0::zscore_thresh: Threshold on the statistics of the distribution of the observed points. Points whose score is below this threshold are considered inliers.</li>
<li>&ndash;EP_0::inliers_thresh: Threshold on the number of inliers which fall within the template distribution. </li>
</ul>
<h1><a class="anchor" id="inputports_sec"></a>
Input Ports</h1>
<h1><a class="anchor" id="outputports_sec"></a>
Output Ports</h1>
<ul>
<li>/motionAnalyzer/opc [rpc] [default carrier:]: Sends commands to objectsPropertiesCollector to retrieve 3D skeletons.</li>
<li>/motionAnalyzer/scaler:cmd [rpc] [default carrier:]: Sends commands to <a class="el" href="group__skeletonScaler.html">skeletonScaler</a> to load and move the template skeleton.</li>
<li>/motionAnalyzer/dtw:cmd [rpc] [default carrier:]: Sends commands to <a class="el" href="group__feedbackProducer.html">feedbackProducer</a> to start the analysis for producing feeback.</li>
<li>/motionAnalyzer/action:cmd [rpc] [default carrier:]: Sends commands to <a class="el" href="group__actionRecognizer.html">actionRecognizer</a> to start the action recognition.</li>
<li>/motionAnalyzer/scope [Bottle] [default carrier:]: Outputs a yarp bottle containing the result of the computation along with the ideal value.</li>
</ul>
<h1><a class="anchor" id="services_sec"></a>
Services</h1>
<ul>
<li>/motionAnalyzer/cmd [rpc-server]: service port . This service is described in <a class="el" href="classmotionAnalyzer__IDL.html" title="motionAnalyzer_IDL IDL Interface to Motion Analyzer services.">motionAnalyzer_IDL</a> (idl.thrift) </li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
